import React from "react";
import { Redirect } from "expo-router";
import { useStore } from "../store";
import { useShallow } from "zustand/react/shallow";

const Index: React.FC = () => {
  const [plexAuthToken, conn] = useStore(
    useShallow((state) => [state.authToken, state.plexConnection]),
  );

  if (plexAuthToken == undefined) {
    return <Redirect href="/login" />;
  } else if (conn == undefined) {
    return <Redirect href="/setup" />;
  } else {
    return <Redirect href="/home" />;
  }
};

export default Index;
